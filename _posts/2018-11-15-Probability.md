--- 
layout: post
title: (듀렛) 확률론
--- 

본 포스팅은 대학원 교재인 듀렛책을 바탕으로 작성하였다. 

### 기본정의 
- 확률변수 $X$에 대한 정의를 생각하여 보자. 확률변수는 본질적으로 메저러블-맵핑이므로 메저러블-매핑의 정의에 대하여 알아보자. 어떠한 맵핑 $X$가 메저러블-스페이스 $(\Omega,{\cal F})$와 메저러블-스페이스 $(S,{\cal S})$를 이어주는 메저러블-맵핑이라는 의미는 1) $X$가 $\Omega$에서 $S$로 가는 함수이고 즉 $X:\Omega \rightarrow S$이고 2) $X^{-1}$가 
\begin{align}
\forall B \in {\cal S}: X^{-1}(B) \in {\cal F} 
\end{align} 
를 만족한다는 의미이다. 

- 확률변수 $X$라는 것을 정의하기 위해서는 반드시 두 메저러블-스페이스가 필요하다. 확률변수 $X$ 단독으로 정의될 수 없다. 이것은 비유하면 "남친"의 정의와 비슷하다. 남친은 혼자 될 수 있는 것이 아니다. 즉 남친은 단독으로 정의될 수 없고 "XXX의 남친"과 같은 식으로만 정의된다. 예를 들면 <br/><br/>
***"저는 남친이에요"***<br/><br/>
라고 말하는것은 올바른 정의가 아니며<br/><br/>
***"저는 XXX의 남친이에요"***<br/><br/>
라고 말하는 것이 올바른 정의이다. 이처럼<br/><br/> 
***"$X$는 확률변수에요"***<br/><br/>
라고 말하는 것은 올바른 정의가 아니며 (하지만 유감스럽게도 대부분 이렇게 말하고, 그래서 확률변수가 무엇인지 헷갈려한다. 그리고 내가 매년 이러고 있다..)<br/><br/> 
***"$X$는 두 메저러블-스페이스 $(\Omega,{\cal F})$와 $(S,{\cal S})$를 연결해주는 확률변수에요"***<br/><br/>
라고 말하는것이 올바른 정의라는 것이다. 요런 느낌의 정의를 확률론에서는 많이 가지고 있다. 가령 예를들면 시그마필드 ${\cal F}$는 홀로 정의될 수 없고 전체집합 $\Omega$가 존재해야지 정의된다. 그리고 메저러블셋은 시그마필드 $\cal F$가 있어야지 정의될 수 있다. 즉 아래와 같이 말한다.<br/><br/>
***"$\cal F$는 $\Omega$에 대한 시그마필드에요"***<br/><br/>
혹은<br/><br/>
***"집합 $A$는 시그마필드 $\cal F$에 대해서 메저러블해요"***<br/><br/>
와 같은 식으로 말이다. 

- 확률변수는 사실 메저러블-맵핑중에서 매우 특수한 경우이다. 왜냐하면 "이미지(=image)"에 해당하는 메저러블-스페이스 $(S,{\cal S})$가 $(\mathbb{R},{\cal R})$로 고정되어있기 때문이다. 여기에서 $\cal R$은 보렐클라스이다. 그러면 사실 확률변수 $X$를 정의하는데 $\Omega$, $\cal F$, $S$, $\cal S$를 일일히 정의할 필요는 없어진다. $(S,{\cal S})=(\mathbb{R},{\cal R})$은 이미 정해졌고 $\Omega$는 ${\cal F}$를 정의하면 사실 같이 정의된 셈이나 마찬가지다($\cal F$에서 가장 큰 원소가 $\Omega$일테니깐!). 종합하면 확률변수 $X$를 정의할때는 ${\cal F}$만 정의하면 된다. 따라서 <br/><br/> 
***"$X$는 두 메저러블-스페이스 $(\Omega,{\cal F})$와 $(S,{\cal S})$를 연결해주는 확률변수에요"***<br/><br/>
라고 말하는것이 정확하지만 <br/><br/>
***"$X$는 ${\cal F}$에서 정의된 확률변수에요"***<br/><br/>
라고 말해도 틀린말은 아니라는 것이다. 그리고 이렇게 말하는 것을 더 좋아하는 사람들이 많다(간단하니깐). 그리고 이것을 기호로는
\begin{align}
X \in {\cal F}
\end{align}
라고 쓴다. 

- 아마 나는 이 포스팅을 읽을때마다 보렐클라스가 무엇인지 다시 헷갈리기 시작할것이다(나 자신에 대한 끝없는 불신..). 그래서 보렐클라스에 대해서 다시 정의하고 넘어가겠다. 보렐클라스 $\cal R$이란 $\mathbb{R}$의 모든 오픈셋을 포함하는 시그마필드라는 것이다. 좀 더 엄밀하게 써보자. 집합 $O$를 $\mathbb{R}$에 속하는 임의의 오픈셋이라고 하자. 즉 
\begin{align}
O \subset \mathbb{R} ~~~ and ~~ O ~~ is ~~ open ~~ set
\end{align}
이라고 하자. 이러한 집합 $O$들을 모아놓은 클라스를 $\cal O$를 정의하자. 즉 
\begin{align}
{\cal O}=\\{O: O \subset \mathbb{R}, ~~~ O ~~ is ~~ open ~~ set \\}
\end{align}
이다. $\cal R$은 $\cal O$를 포함하는 가장 작은 시그마필드이다. 즉 1) ${\cal O} \subset {\cal R}$이고 2) "${\cal R}$ is $\sigma$-field." 이다. 이것을 기호로는 아래와 같이 쓴다. 
\begin{align}
{\cal R}=\sigma({\cal O})
\end{align}
그리고 ${\cal R}$을 $\cal O$에 의해서 제너레이트된 시그마필드라고도하며 $\cal O$가 $\cal R$을 생성했다고 말하기도 한다. 

- 보렐클라스는 우리가 상상할 수 있는 대부분의 "subset of $\mathbb{R}$"을 포함한다. 가령 예를들면 보렐클라스는 점집합, 인터벌, 레이와 같은 집합들을 포함하는데 이는 이러한 집합들이 $(a,b)$의 카운터블 유니온꼴로 표현될 수 있다는 것을 알면 쉽게 이해할 수 있다. 이러한 집합을 $\cal R$-메저러블한 집합이라고 표현한다. 간단히 줄여서 보렐셋이라고 표현하기도 한다. 하지만 "subset of $\mathbb{R}$"임에도 불구하고 가끔 가다가 보렐클라스의 원소가 아닌 이상한 집합이 있을 수 도 있다. 이런 집합을 보렐클라스의 원소가 아닌 집합 혹은 $\cal R$-메저러블하지 않은 집합 혹은 보렐셋이 아닌 집합이라고 한다. 대표적으로 칸토르집합이 있다. 

- 보렐셋 즉 $\cal R$-메저러블한 집합은 $\mathbb{R}$에서 길이를 잴 수 있는 집합이라고 이해해도 괜찮다. 가령 예를 들면 $[0,1]$의 길이는 1이고 $\emptyset$의 길이는 0이다. 또한 $\\{0\\}$와 같은 집합의 길이는 0, 유리수들의 집합의 길이는 0, 그리고 $[0,1]$사이에 포함된 무리수들의 집합을 길이로 재면 $1$과 같은식으로 정의할 수 있다. 따라서 위에서 언급한 집합들은 모두 잴 수 있는 집합이며, $\cal R$-메저러블한 집합이다. 

- 참고로 위와 같이 길이를 재는 함수를 **르벡메저**라고 한다. 르벡메저는 $\cal R$에 속한 임의의 집합에 대하여서도 이러식으로 **모순없이** 길이를 정의할 수 있다. 여기에서 모순없이 길이를 잴 수 있다는 말이 의미하는 것은 1) 공집합의 길이는 0이며 2) $\cal R$에 속하는 어떠한 집합의 길이도 양수이어야 하며 3) $\cal F$에 속하는 두 집합이 서로소라면(즉 $[0,1]$, $[3,4]$와 같은 집합) 두 집합의 합친집합의 길이는 각각의 길이의 합과 같아야 한다는 것이다(즉 $[0,1]\cup[3,4]$의 길이는 $[0,1]$의 길이와 $[3,4]$의 길이의 합과 같아야한다는것임). 어떠한 클라스 $\cal F$에서 이러한 위와 같은 조건을 만족하는 함수 $\mu$가 있다고 하면 이때 $\mu$는 $\cal F$의 모든 원소들의 크기(혹은 길이)를 **모순없이** 정의할 수 있다. 이러한 함수 $\mu :{\cal F} \rightarrow [0,\infty]$를 $\cal F$에서의 메저라고 한다. 참고로 **르벡메져** $\lambda$는 아래와 같이 정의되는 함수이다. 
\begin{align}
\lambda((a,b])=b-a
\end{align}
이러한 함수 $\lambda$는 보렐클래스 $\cal R$에 있는 모든집합에 대하여 **모순없이** 길이를 정의할 수 있다. 따라서 $\lambda$는 $\cal R$에 대한 메져이다. 

- 다시 $X$로 관심을 돌려보자. $X$는 기본적으로 $\Omega$와 $\mathbb{R}$을 연결하는 맵핑이다. 이것이 $(\Omega,{\cal F})$와 $(\mathbb{R},{\cal R})$을 연결하는 맵핑, 즉 메저러블 맵핑이 되려면 어떻게 되어야 할까? 해답은 매우 간단하다. **$\Omega$를 보고 근원사건을 해석하여 맵핑하지말고 $\cal F$를 보고 근원사건을 해석하여 맵핑시키면 된다.** 이게 무슨말인지 찬찬히 살펴보자. 예를들어 $\Omega=\\{1,2,3,4,5,6\\}$이라고 하자. 즉 주사위를 던져서 나오는 눈들의 집합이 $\Omega$이다. $\Omega$를 보고 이해한 근원사건은 다음과 같다. <br/><br/>
***"주사위를 던져서 눈이 1이 나올 경우, ... , 주사위를 던져서 눈이 6이 나올 경우"***<br/><br/>
이제 $\Omega$에 대한 시그마필드를 아래와 같이 정의하자. 
\begin{align}
{\cal F}=\\{\emptyset, \\{1,3,5\\}, \\{2,4,6\\},\Omega \\}.
\end{align}
즉 $\cal F$의 원소는 1) 공집합 2) 전체집합 그리고 3) 주사위를 던져서 짝수가 나오는 경우를 모은 집합 4) 주사위를 던져서 홀수가 나오는 경우를 모은 집합이다. 이 경우 $\cal F$의 관점에서 이해한 근원사건은 다음과 같다. <br/><br/>
***"주사위를 던져서 짝수가 나올 경우, 주사위를 던져서 홀수가 나올 경우"*** <br/><br/>
$X$가 단지 $\Omega$에서 $\mathbb{R}$의 맵핑이 아니라 $(\Omega,{\cal F})$에서 $(\mathbb{R},{\cal R})$로 메저러블맵핑이 되려면 **$\cal F$의 눈치를 보고 $\cal F$가 이해하는 사건의 구성으로 맵핑을 한다.** 즉 
\begin{align}
X(\\{1\\})=1, \dots, X(\\{6\\})=6
\end{align}
과 같이 맵핑을 하면 안되고 
\begin{align}
X(\\{1\\})=X(\\{3\\})=X(\\{5\\})=1 
\end{align}
\begin{align}
X(\\{2\\})=X(\\{4\\})=X(\\{6\\})=0
\end{align}
과 같은 식으로 맵핑을 해야한다는 것이다. 참고로 전자의 맵핑은 **"$X$: 주사위를 던져서 나오는 눈의 수"**와 같은 식으로 확률변수를 구성한 것이고 후자의 경우는 **"$X$: 주사위를 던져 홀수면 1 짝수면 0"**과 같은 방식으로 확률변수를 구성한 것이다. 전자의 근원사건은 주사위를 던져서 나온 눈의 수이며 후자의 근원사건은 주사위를 던져서 짝수가 나왔는지 홀수가 나왔는지다. 참고로 후자의 방식이 $\cal F$가 근원사건을 이해하는 방식이므로 후자의 처럼 $X$를 맵핑해야 $X$가 $\cal F$에서 정의된 랜덤변수 즉 $X \in {\cal F}$라고 할 수 있는 것이다. 

- $X \in {\cal F}$가 되도록 $X$를 정의하기 위해서는 위에서 처럼 ${\cal F}$의 눈치만 보고 맵핑 $X$를 정의해도 되지만 ${\cal F}$보다 작은 어떤 시그마필드 ${\cal F}^* $의 눈치를 보고 맵핑 $X$를 정의해도 된다. 예를들면 위의 예제처럼 
\begin{align}
{\cal F}=\\{\emptyset, \\{1,3,5\\}, \\{2,4,6\\},\Omega \\}.
\end{align}
라고 하고 우리는 $X \in {\cal F}$가 되도록 맵핑 $X$를 잘 정의하고 싶다고 하자. $X를 위의 예제처럼 ${\cal F}$의 눈치를 보고 
\begin{align}
X(\\{1\\})=X(\\{3\\})=X(\\{5\\})=1 
\end{align}
\begin{align}
X(\\{2\\})=X(\\{4\\})=X(\\{6\\})=0
\end{align}
와 같이 구성하면 당연히 $X \in {\cal F}$가 성립하지만 ${\cal F}$보다 작은 집합 ${\cal F}^* $, 예를들면 ${\cal F}^* = \\{\emptyset, \Omega\\}$와 같은 시그마필드의 눈치를 보고 맵핑 $X$를 정의해도 된다. 예컨데 아래와 같은식으로 말이다. 
\begin{align}
X(\\{1\\})=X(\\{2\\})=X(\\{3\\})=X(\\{4\\})=X(\\{5\\})=X(\\{6\\})=1.
\end{align}
이렇게 정의하여도 $X \in {\cal F}$가 성립한다. 단지 이러한 경우 ${\cal F}$는 $X$를 정의하기 위해서 필요한 최소한의(=가장작은) 시그마필드는 아니게 된다. 이경우 $X$를 정의하는데 필요한 최소한의 시그마필드는 ${\cal F}^* $가 된다. 이처럼 맵핑 $X$를 ${\cal F}$ 메저러블하도록 만드는데 필요한 최소한의 시그마필드를 기호로 $\simga(X)$라고 한다. 그리고 이 예제에서는 $\sigma(X)={\cal F}^* $가 된다. 


- 이제 $\cal F$에서 정의된 어떠한 확률변수 $X$가 $\cal F$에 포함된 모든 근원사건들을 **잘** 연결하는 어떠한 맵핑이라는건 알겠다. 그런데 확률변수 $X$가 어떤 **랜덤**한 출력을 주는 함수라는 느낌은 없다. 왜냐하면 말그대로 확률변수 $X$는 두 메저러블 스페이스 $(\Omega, {\cal F})$, $(\mathbb{R},{\cal R})$을 잘 연결하는 어떠한 맵핑일 뿐이기 때문이다. 즉 $X$는 단순히 함수(혹은 맵핑)이기 때문에 $\omega \in \Omega$가 고정되면 $X(\omega)$의 값도 고정된다. 따라서 $X$가 어떤 **랜덤**한 출력을 가지도록 하기 위해서는 $\omega$를 랜덤하게 선택하는 수밖에 없다. 이렇게 $\omega$를 랜덤하게 선택할 수 있게 만들어주는 장치가 바로 확률척도 $P:{\cal F} \rightarrow \mathbb{R}$이다. $P(\\{\omega\\})$는 $\Omega$에서 $\\{\omega\\}$가 선택될 확률을 의미한다. 따라서 $P$는 $\omega$를 **랜덤**하게 선택할수 있게 해주고 그 결과 $X(\omega)$의 출력역시 **랜덤**하게 나올 수 있도록 해준다. 따라서 우리가 일반적으로 생각하는 확률변수 $X$를 정의하기 위해서는 $(\Omega, {\cal F}), ~ (\mathbb{R},{\cal R})$과 더불어서 $P$가 추가적으로 필요하다. 즉 확률변수 $X$를 정의하기 위해서는 $(\Omega,{\cal F},P), ~ (\mathbb{R},{\cal R})$이 필요하다. 여기에서 $(\Omega, {\cal F}, P)$를 묶어서 확률공간이라고 한다. 

- 엄밀하게 말하면 $X$를 정의하기 위해서는 $(\Omega, {\cal F},P), ~ (\mathbb{R},{\cal R})$가 모두 필요하지만 앞에서 언급하였듯이 ${\cal F}$를 알면 $\Omega$를 아는 셈이고 (${\cal F}$에서 젤 큰 집합이 $\Omega$임) $(\mathbb{R},{\cal R})$는 이미 정해진 것이므로 $X$를 정의하는데 최소한으로 필요한 정보는 ${\cal F}$와 $P$이다. 이중에서 $P$는 사실 $X$가 가지는 **랜덤**성을 주기 위한 장치이다. 따라서 $P$를 잘 못 정의한다고 하여서 $X$가 랜덤변수가 아니게 되는 경우는 없다. 따라서 $X$를 **well-define**하기 위해서는 
\begin{align}
X \in {\cal F}
\end{align}
인지를 따지기만 하면된다. 

- 그럼 $P$가 가지는 역할은 무엇일까? $P$는 $X$가 가지는 분포를 결정하여 주므로 $P$가 정의되면 부수적으로 $X$가 가지는 여러가지 성질들을 추가적으로 **assume**할 수 있다. 예를들어 $X$가 $N(0,\simga^2)$이라면 $E \|X\| ^2<\infty$라든가 $(X_1,X_2)$가 $\mu = c(0,0)$이고 $\sigma=diag(\sigma_1^2,\sigma_2^2)$이 정규분포라면 $E \| X_1 \|^2<\infty, E \| X_2 \|^2<\infty$이고 $X_1,X_2$는 독립이라든가 하는 식으로 말이다. 대수의법칙등을 증명할때 보통 $X_1,X_2,\dots$는 어떠한 성질을 가지는 랜덤변수일라고 가정할때가 많은데 이러한 가정에 해당하는 것이 $P$에 대한 제약조건에 해당한다고 볼 수 있다. 

- 확률척도 $P$는 $X$의 분포에 대한 정보를 담고 있지만 $P$의 정의역은 $\Omega$이다. 따라서 $


### 대수의법칙 

### 중심극한정리 

### 마틴게일 
- Durret책을 보면 Conditional Expectation $E(X \vert {\cal F})$를 확률변수 $Y$라고 생각한다. 우선 Conditional Expectation이 왜 확률변수인지부터 설명하는것이 좋을 것 같다. 우선 적당한 확률변수 $X$를 정의하여 보자. 확률변수 즉 메저러블맵핑을 $X$를 정의하기 위해서 적당한 두 메저러블-스페이스를 $(\Omega,\{\cal F})$, $(S,{\cal S})$를 정의한다. 일반적으로 $\Omega=[0,1]$, ${\cal F}_ 0 = \sigma({\cal O})$, $S=\mathbb{R}$, ${\cal S}=\{\cal B}$이다. 즉 $X:([0,1],\sigma([0,1])) \rightarrow (\mathbb{R},{\cal R})$이다. 
